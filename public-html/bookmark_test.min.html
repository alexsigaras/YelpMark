<!DOCTYPE html><html><head><script src="js/jquery-1.8.3.min.js"></script><script type="text/javascript" src="js/oauth.js"></script><script type="text/javascript" src="js/sha1.js"></script><script type="text/javascript" src="js/bookmark.js"></script><script type="text/javascript" src="js/dollarevent.js"></script><script type="text/javascript" src="js/dollar.js"></script><style type="text/css">#bookmarkPanel,#resultPanel{overflow:hidden;margin:50px}#resultPanel{width:500px;float:right;background-color:#EEE}.eachResult{overflow:hidden;cursor:pointer;border-bottom:1px solid gray}.eachResult:hover{background-color:gray}.eachResult .name{width:100px;float:left}.eachResult .snippet_text{width:400px;float:left}#bookmarkPanel{width:500px;float:left;background-color:#EEE}.bookmark{height:70px;margin-bottom:10px;overflow:auto}#stroke{width:300px;height:100px;background-color:#DDD;display:none}.strokeOpen{width:50px}.strokeResult{width:100%;padding-top:5px;height:30px;font-size:20px;text-align:center}.strokeCanvas{position:absolute;top:0;left:0;z-index:10;width:100%;height:100%}</style></head><body><div id="inputWrapper" style="margin:50px auto 0;width:300px"><input type="text" id="inputBox" x-webkit-speech speech><div id="stroke"></div><button class="strokeOpen" onclick="&#34;none&#34;==$(&#34;#stroke&#34;).css(&#34;display&#34;)?$(&#34;#stroke&#34;).show():$(&#34;#stroke&#34;).hide()">Stroke</button> <input id="submit" type="submit" value="Search"></div><div id="clearWrapper" style="margin:0 auto;width:300px"><button id="showbookmark" onclick="updateBookmark()">Show Bookmark</button> <button id="clearbookmark" onclick="bookmark.clear(),updateBookmark()">Clear Bookmark</button></div><div id="resultPanel"></div><div id="bookmarkPanel"></div></body><script type="text/javascript">function querybookmark(e){var a=e,t="New+York",r={consumerSecret:auth.consumerSecret,tokenSecret:auth.accessTokenSecret};parameters=[],parameters.push(["term",a]),parameters.push(["location",t]),parameters.push(["callback","cb"]),parameters.push(["oauth_consumer_key",auth.consumerKey]),parameters.push(["oauth_consumer_secret",auth.consumerSecret]),parameters.push(["oauth_token",auth.accessToken]),parameters.push(["oauth_signature_method","HMAC-SHA1"]);var o={action:"http://api.yelp.com/v2/search",method:"GET",parameters:parameters};OAuth.setTimestampAndNonce(o),OAuth.SignatureMethod.sign(o,r);var s=OAuth.getParameterMap(o.parameters);s.oauth_signature=OAuth.percentEncode(s.oauth_signature),console.log(s),$.ajax({url:o.action,data:s,cache:!0,dataType:"jsonp",jsonpCallback:"cb",success:function(e,a,t){$("#resultPanel").empty(),$(e.businesses).each(function(){var e=this,a=$("<div class='eachResult'></div>");a.append("<div class='name'>"+e.name+"</div>"),a.click(function(){console.log(e),bookmark.add(e),updateBookmark()}),$("#resultPanel").append(a)})}})}var updateBookmark=function(){var e=bookmark.getItem("bookmarks","object");$("#bookmarkPanel").empty();for(var a=0;a<e.length;a++)$("#bookmarkPanel").append("<div class='bookmark'>"+e[a].obj+"</div>")};$("body").ready(function(){onLoad(),strokenizer(document.getElementById("stroke"))}),$("#submit").click(function(){querybookmark($("#inputBox").val())});var auth={consumerKey:"nuceAW1zjGXNkQp4sjK-6A",consumerSecret:"qWYAoriy3fufjX9J9jYkmYeH0pI",accessToken:"Q0n1pPIY8fJ_sYeous3JF3Hh250ZvgDM",accessTokenSecret:"3OSJp_QEOPgrpIkEI4lz0qxDp_U",serviceProvider:{signatureMethod:"HMAC-SHA1"}}</script></html>